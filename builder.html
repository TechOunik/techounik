<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Portfolio & Resume Factory | OBI_SEC</title>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<style>
:root { --primary:#165b33; --accent:#d42426; --bg:#f8f9fa; --text:#333; }
body{font-family:'Segoe UI',sans-serif;background:var(--bg);padding:40px 20px;color:var(--text);}
.container{max-width:950px;margin:auto;background:#fff;padding:40px;border-radius:20px;box-shadow:0 15px 40px rgba(0,0,0,.1)}

h1{text-align:center;color:var(--primary)}
.subtitle{text-align:center;color:#666;margin-bottom:30px}

.category-filter{display:flex;gap:10px;justify-content:center;flex-wrap:wrap}
.cat-btn{padding:8px 15px;border-radius:20px;border:1px solid #ddd;background:#fff;cursor:pointer}
.cat-btn.active,.cat-btn:hover{background:var(--primary);color:#fff}

.theme-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:15px;max-height:500px;overflow:auto;padding:10px;border:1px solid #eee;border-radius:10px}
.theme-card{position:relative;border:2px solid #eee;border-radius:10px;padding:15px;text-align:center;cursor:pointer;background:#fff}
.theme-card.selected{border-color:var(--primary);background:#e8f5e9}
.theme-card:hover{transform:translateY(-3px)}

.color-bubbles{display:flex;justify-content:center;gap:5px;margin-top:8px}
.bubble{width:12px;height:12px;border-radius:50%}

.favorite{position:absolute;top:8px;right:8px;font-size:1.1rem;cursor:pointer;color:#ccc}
.favorite.active{color:gold}

.theme-preview{
 position:absolute;inset:0;border-radius:10px;padding:12px;
 display:none;text-align:center;
 background:var(--bg);color:var(--txt)
}
.theme-card:hover .theme-preview{display:block}
.theme-preview img{width:50px;height:50px;border-radius:50%;border:2px solid var(--p)}
.theme-preview h4{font-size:.85rem;color:var(--p)}
.theme-preview small{color:var(--a);letter-spacing:1px;font-size:.65rem}

.form-grid{display:grid;grid-template-columns:1fr 1fr;gap:20px}
.full-width{grid-column:span 2}
label{font-weight:bold;font-size:.85rem}
input,textarea{width:100%;padding:10px;border-radius:8px;border:2px solid #eee}

.btn-generate{margin-top:30px;width:100%;padding:15px;font-size:1.1rem;
background:var(--primary);color:#fff;border:none;border-radius:10px;cursor:pointer}

.modal{display:none;position:fixed;inset:0;background:rgba(0,0,0,.85);z-index:9999}
.modal-content{background:#fff;margin:2vh auto;width:95%;height:95vh;border-radius:10px;display:flex;flex-direction:column}
.modal-header{padding:15px;background:#eee;display:flex;justify-content:space-between}
.preview-frame{flex:1;border:none}

.btn-download{background:var(--accent);color:#fff;padding:10px 20px;border:none;border-radius:5px;font-weight:bold}
.btn-close{background:#ddd;padding:10px;border:none;border-radius:5px}
#unlockCode{display:none;padding:10px;border:2px solid var(--primary)}
@media(max-width:600px){.form-grid{grid-template-columns:1fr}.full-width{grid-column:span 1}}
</style>
</head>

<body>
<div class="container">
<h1>üè≠ Portfolio Factory</h1>
<p class="subtitle">Design ‚Ä¢ Preview ‚Ä¢ Launch</p>

<div class="category-filter">
<button class="cat-btn active" onclick="filterThemes('all')">All</button>
<button class="cat-btn" onclick="filterThemes('tech')">Tech</button>
<button class="cat-btn" onclick="filterThemes('creative')">Creative</button>
<button class="cat-btn" onclick="filterThemes('medical')">Medical</button>
<button class="cat-btn" onclick="filterThemes('resume')">Resume</button>
</div>

<div class="theme-grid" id="themeGrid"></div>
<input type="hidden" id="selectedThemeId" value="neon_nexus">

<form>
<div class="form-grid">
<div><label>Name</label><input id="fullName"></div>
<div><label>Role</label><input id="jobTitle"></div>
<div class="full-width"><label>Bio</label><textarea id="bio"></textarea></div>
<div><label>Email</label><input id="email"></div>
<div><label>Link</label><input id="social"></div>
<div class="full-width"><label>Skills</label><input id="skills"></div>
</div>

<button type="button" class="btn-generate" onclick="generatePreview()">‚ú® Generate Preview</button>
</form>
</div>

<div id="previewModal" class="modal">
<div class="modal-content">
<div class="modal-header">
<strong>Live Preview</strong>
<div>
<input id="unlockCode" placeholder="ENTER KEY">
<button class="btn-download" onclick="verifyAndDownload()">‚¨á Download</button>
<button class="btn-close" onclick="closePreview()">Edit</button>
</div>
</div>
<iframe id="previewFrame" class="preview-frame"></iframe>
</div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>

<script>
const palettes={
neon:{p:'#B026FF',a:'#00E5FF',bg:'#05000A',txt:'#EAEAEA',card:'#12001F'},
electric:{p:'#00BFFF',a:'#39FF14',bg:'#020B2D',txt:'#fff',card:'#06154A'},
pastel:{p:'#ADD8E6',a:'#FFD1DC',bg:'#FFF5F8',txt:'#333',card:'#fff'}
};

const themes=[
{id:'neon_nexus',name:'Neon Nexus',cat:'tech',icon:'üåå',c:palettes.neon,fav:false},
{id:'electric_hues',name:'Electric Hues',cat:'tech',icon:'‚ö°',c:palettes.electric,fav:false},
{id:'holo_dream',name:'HoloTech Dreams',cat:'medical',icon:'ü¶Ñ',c:palettes.pastel,fav:false},
{id:'simple_cv',name:'Classic Resume',cat:'resume',icon:'üìÑ',c:{},fav:false}
];

const grid=document.getElementById('themeGrid');

function renderThemes(filter='all'){
grid.innerHTML='';
themes
.sort((a,b)=>b.fav-a.fav)
.forEach(t=>{
if(filter!=='all'&&t.cat!==filter)return;
const card=document.createElement('div');
card.className='theme-card';
card.onclick=()=>selectTheme(t.id,card);

card.innerHTML=`
<div class="favorite ${t.fav?'active':''}">‚≠ê</div>
<div style="font-size:1.5rem">${t.icon}</div>
<strong>${t.name}</strong>
<div class="color-bubbles">
<div class="bubble" style="background:${t.c.p||'#ccc'}"></div>
<div class="bubble" style="background:${t.c.a||'#999'}"></div>
<div class="bubble" style="background:${t.c.bg||'#eee'}"></div>
</div>

<div class="theme-preview" style="--p:${t.c.p};--a:${t.c.a};--bg:${t.c.bg};--txt:${t.c.txt}">
<img src="https://via.placeholder.com/80">
<h4>Your Name</h4>
<small>YOUR ROLE</small>
</div>
`;

card.querySelector('.favorite').onclick=e=>{
e.stopPropagation();
t.fav=!t.fav;
renderThemes(filter);
};

grid.appendChild(card);
});
}
renderThemes();

function filterThemes(cat){
document.querySelectorAll('.cat-btn').forEach(b=>b.classList.remove('active'));
event.target.classList.add('active');
renderThemes(cat);
}

function selectTheme(id,el){
document.getElementById('selectedThemeId').value=id;
document.querySelectorAll('.theme-card').forEach(c=>c.classList.remove('selected'));
el.classList.add('selected');
}

function generatePreview(){
const name=fullName.value;
const role=jobTitle.value;
const bio=bio.value;
const email=email.value;
const skills=skills.value;

const t=themes.find(x=>x.id===selectedThemeId.value);
let html;

if(t.cat==='resume'){
html=`<!DOCTYPE html><html><body style="font-family:Arial">
<h1>${name}</h1><p>${role}</p><p>${bio}</p>
<h3>Skills</h3><p>${skills}</p>
<button onclick="window.print()">Print / PDF</button>
</body></html>`;
}else{
html=`<!DOCTYPE html><html><head>
<link rel="icon" href="data:image/svg+xml,
<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'>
<rect width='100' height='100' fill='${t.c.p}'/>
<text x='50%' y='65%' text-anchor='middle' font-size='60' fill='white'>${name[0]}</text>
</svg>">
<meta property="og:title" content="${name} ‚Äî ${role}">
<meta property="og:description" content="${bio}">
<style>
body{background:${t.c.bg};color:${t.c.txt};font-family:Segoe UI;text-align:center}
</style></head>
<body><h1>${name}</h1><p>${role}</p><p>${bio}</p></body></html>`;
}

previewFrame.srcdoc=html;
previewModal.style.display='block';
unlockCode.style.display='block';
}

function closePreview(){previewModal.style.display='none'}

function verifyAndDownload(){
const validHashes=['e1cbb0c3879af8347246f12c559a86b6']; // replace
const hash=CryptoJS.MD5(unlockCode.value).toString();
if(validHashes.includes(hash)){
const a=document.createElement('a');
a.href='data:text/html;charset=utf-8,'+encodeURIComponent(previewFrame.srcdoc);
a.download='index.html';
a.click();
}else alert('Invalid key');
}
</script>
</body>
</html>
